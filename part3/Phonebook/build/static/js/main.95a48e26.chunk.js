(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{38:function(e,t,n){"use strict";n.r(t);var a=n(14),c=n.n(a),o=n(3),r=n(2),u=n(4),i=n.n(u),d="/api/persons",s=function(){return i.a.get(d)},l=function(e){return i.a.post(d,e)},j=function(e){return i.a.delete("".concat(d,"/").concat(e))},b=function(e,t){return i.a.put("".concat(d,"/").concat(e),t)},m=n(0),f=function(e){var t=e.message;return null===t?null:Object(m.jsx)("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:t})},h=function(e){var t=e.person,n=e.deletRecord;return Object(m.jsxs)("li",{children:[t.name," ",t.number,Object(m.jsx)("button",{onClick:function(){window.confirm("Delete ".concat(t.name,"?"))&&n()},children:"delet"})]})},O=function(e){var t=e.value,n=e.handle;return Object(m.jsxs)("form",{children:[Object(m.jsx)("div",{children:"filter shown with"}),Object(m.jsx)("input",{value:t,onChange:n})]})},p=function(e){var t=e.add,n=e.valueNum,a=e.valueName,c=e.handleName,o=e.handleNum;return Object(m.jsxs)("form",{onSubmit:t,children:[Object(m.jsxs)("div",{children:["name: ",Object(m.jsx)("input",{value:a,onChange:c})]}),Object(m.jsxs)("div",{children:["number: ",Object(m.jsx)("input",{value:n,onChange:o})]}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{type:"submit",children:"add"})})]})},v=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),u=Object(o.a)(c,2),i=u[0],d=u[1],v=Object(r.useState)(""),x=Object(o.a)(v,2),g=x[0],w=x[1],S=Object(r.useState)(!0),T=Object(o.a)(S,2),N=(T[0],T[1],Object(r.useState)("")),y=Object(o.a)(N,2),k=y[0],C=y[1],B=Object(r.useState)("something wrong happens"),E=Object(o.a)(B,2),J=E[0],L=E[1],P=Object(r.useState)(!0),R=Object(o.a)(P,2);R[0],R[1];Object(r.useEffect)((function(){console.log("effect"),s().then((function(e){a(e.data)}))}),[]);var Z=""==k?n:n.filter((function(e){return e.name.toLowerCase()==k.toLowerCase()}));return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Phonebook"}),Object(m.jsx)(f,{message:J}),Object(m.jsx)(O,{value:k,handle:function(e){return C(e.target.value)}}),Object(m.jsx)("h3",{children:"add a new"}),Object(m.jsx)(p,{add:function(e){e.preventDefault();var t={name:i,number:g};t.name<4||t.number<9?l(t).then((function(e){a(Z.concat(e.data))})).catch((function(e){L(e.response.data.error),setTimeout((function(){L(null)}),5e3)})):n.some((function(e){return e.name===t.name}))?window.confirm(i+" is already added to phonebook, replace the old number with a new one?")&&(b(Z.filter((function(e){return e.name===t.name}))[0].id,t).then((function(e){a(Z.map((function(n){return n.name!==t.name?n:e.data})))})),L("'".concat(i,"' was updated")),setTimeout((function(){L(null)}),5e3)):(l(t).then((function(e){a(Z.concat(e.data))})),L("'".concat(i,"' was added")),setTimeout((function(){L(null)}),5e3)),d(""),w("")},valueName:i,handleName:function(e){return d(e.target.value)},valueNum:g,handleNum:function(e){return w(e.target.value)}}),Object(m.jsx)("h3",{children:"Numbers"}),Z.map((function(e,t){return Object(m.jsx)(h,{person:e,deletRecord:function(){return t=e.id,Z.find((function(e){return e.id===t})),console.log(t),j(t),void s().then((function(e){a(e.data)}));var t}},t)}))]})};c.a.render(Object(m.jsx)(v,{notes:[{id:1,content:"HTML is easy",date:"2019-05-30T17:30:31.098Z",important:!0},{id:2,content:"Browser can execute only JavaScript",date:"2019-05-30T18:39:34.091Z",important:!1},{id:3,content:"GET and POST are the most important methods of HTTP protocol",date:"2019-05-30T19:20:14.298Z",important:!0}]}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.95a48e26.chunk.js.map